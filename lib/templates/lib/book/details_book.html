{% extends 'lib/index.html' %}

{% block title %}
  Details of "{{ book.title }}"
{% endblock title %}

{% block content %}
    {% load permission_tags %}

    <p>ID: {{ book.pk }}</p>
    <p>Name: {{ book.title }}</p>
    <p>Collection: {{ book.collection.name }}</p>
    <p>Genre: {{ book.genre.name }}</p>
    <p>Author: {{ book.author }}</p>
    <p>Image: {{ book.url_image }}</p>
    <p>Publisher: {{ book.publisher }}</p>
    <p>Created at: {{ book.creation_date |date:"d M Y h:i" }}</p>
    <p>Last update : {{ book.modification_date |date:"d M Y h:i" }}</p>

    <div class="bloc_details">

    
        <h3>Instances</h3>

        {% if instances %}

            {% for instance in instances %}
                
            {% endfor %}

            <ul class="list-group">
                {% for instance in instances %}
                    <li class="list-group-item d-flex justify-content-between align-items-center"> 
                        {{ instance.pk }} / {{ instance.id_books.title }} / Library: {{ instance.id_library.name }} / {{ instance.creation_date|date:"d M Y h:i" }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No instances</p>
        {% endif %}
    </div>

{% endblock content %}